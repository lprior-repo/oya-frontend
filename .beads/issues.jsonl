{"id":"bd-18z","title":"ui: Global Node Search and CMD+K interface","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219080116-xalysero.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219080116-xalysero.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219080116-xalysero\"\n  title: \"ui: Global Node Search and CMD+K interface\"\n  type: \"feature\"\n  priority: 3\n  effort_estimate: \"2hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL provide fuzzy search for 400+ potential node types.\\\",\n      \\\"THE SYSTEM SHALL allow adding nodes via keyboard search.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN CMD+K is pressed\\\", shall: \\\"THE SYSTEM SHALL open the global search modal.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF no results found\\\", shall_not: \\\"THE SYSTEM SHALL NOT show a blank screen\\\", because: \\\"a 'Request Node' link should be shown\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"Node library metadata loaded\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"Selected node dropped at mouse position\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"Search index is always available\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Write failing tests\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Implement to make tests pass\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219080116-xalysero/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":3,"issue_type":"feature","created_at":"2026-02-19T14:01:17.265823263Z","created_by":"lewis","updated_at":"2026-02-19T14:01:17.265823263Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-1ew","title":"shell: Version control, snapshots, and JSON portability","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219080116-lz2ml0gh.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219080116-lz2ml0gh.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219080116-lz2ml0gh\"\n  title: \"shell: Version control, snapshots, and JSON portability\"\n  type: \"feature\"\n  priority: 2\n  effort_estimate: \"2hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL allow exporting workflows as a JSON file.\\\",\n      \\\"THE SYSTEM SHALL maintain a history of the last 10 versions locally.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN 'Import' is clicked\\\", shall: \\\"THE SYSTEM SHALL validate the JSON schema before applying state.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF importing malformed JSON\\\", shall_not: \\\"THE SYSTEM SHALL NOT overwrite the current workflow\\\", because: \\\"data loss must be avoided\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"LocalStorage digital twin available\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"JSON schema is compliant\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"Version IDs are unique\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Write failing tests\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Implement to make tests pass\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219080116-lz2ml0gh/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-19T14:01:17.357182325Z","created_by":"lewis","updated_at":"2026-02-19T14:01:17.357182325Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-1jc","title":"core: node graph data structures","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219075335-cup48ef3.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219075335-cup48ef3.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219075335-cup48ef3\"\n  title: \"core: node graph data structures\"\n  type: \"feature\"\n  priority: 1\n  effort_estimate: \"1hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL define a Workflow as a collection of Nodes and Connections.\\\",\n      \\\"THE SYSTEM SHALL ensure Node IDs are unique.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN an edge is added\\\", shall: \\\"THE SYSTEM SHALL verify both nodes exist.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF a node is deleted\\\", shall_not: \\\"THE SYSTEM SHALL NOT leave dangling connections\\\", because: \\\"it breaks graph integrity\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"None\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"Graph state is valid\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"No dangling edges\\\",\n      \\\"Unique IDs\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Implement Workflow, Node, and Edge structs\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Add pure logic for node/edge mutations\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219075335-cup48ef3/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-19T13:53:35.775805140Z","created_by":"lewis","updated_at":"2026-02-19T13:53:35.775805140Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2x0","title":"shell: localstorage persistence","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219070624-sovoxsnm.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219070624-sovoxsnm.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219070624-sovoxsnm\"\n  title: \"shell: localstorage persistence\"\n  type: \"feature\"\n  priority: 2\n  effort_estimate: \"1hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL serialize tasks to JSON for storage.\\\",\n      \\\"THE SYSTEM SHALL use the key \"dioxus-tasks\" for storage.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN the app loads\\\", shall: \\\"THE SYSTEM SHALL attempt to restore state from LocalStorage.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF LocalStorage is full\\\", shall_not: \\\"THE SYSTEM SHALL NOT crash\\\", because: \\\"persistence failures should be handled gracefully\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"Window/LocalStorage available\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"Data persisted to \"dioxus-tasks\" key\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"Data remains consistent between sessions\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Write failing tests\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Implement to make tests pass\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219070624-sovoxsnm/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-19T13:06:24.644726362Z","created_by":"lewis","updated_at":"2026-02-19T13:06:24.644726362Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-306","title":"core: multi-project task organization","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219073540-znhyftdp.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219073540-znhyftdp.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219073540-znhyftdp\"\n  title: \"core: multi-project task organization\"\n  type: \"feature\"\n  priority: 2\n  effort_estimate: \"1hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL support multiple Projects with unique names.\\\",\n      \\\"THE SYSTEM SHALL track the active Project for the UI.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN a project is deleted\\\", shall: \\\"THE SYSTEM SHALL remove all associated tasks.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF no projects exist\\\", shall_not: \\\"THE SYSTEM SHALL NOT crash\\\", because: \\\"a default \"Inbox\" project should be created\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"None (pure)\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"Returned collection contains the new project\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"Project names are unique\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Update Task model for project association\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Implement ProjectCollection logic\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219073540-znhyftdp/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-19T13:35:40.341356884Z","created_by":"lewis","updated_at":"2026-02-19T13:35:40.341356884Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-35j","title":"ui: dashboard and task components","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219070624-tabqh9hv.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219070624-tabqh9hv.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219070624-tabqh9hv\"\n  title: \"ui: dashboard and task components\"\n  type: \"feature\"\n  priority: 3\n  effort_estimate: \"2hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL use a responsive layout with a progress indicator.\\\",\n      \\\"THE SYSTEM SHALL follow accessibility standards for task controls.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN a task is completed\\\", shall: \\\"THE SYSTEM SHALL update the global progress bar.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF on mobile\\\", shall_not: \\\"THE SYSTEM SHALL NOT hide essential task controls\\\", because: \\\"UX must be consistent\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"Core logic implemented\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"UI reflects current state of tasks\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"No state mutation inside render functions\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Write failing tests\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Implement to make tests pass\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219070624-tabqh9hv/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":3,"issue_type":"feature","created_at":"2026-02-19T13:06:24.687900286Z","created_by":"lewis","updated_at":"2026-02-19T13:06:24.687900286Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-39w","title":"ui: SVG-based canvas and node rendering","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219075335-komc7q4d.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219075335-komc7q4d.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219075335-komc7q4d\"\n  title: \"ui: SVG-based canvas and node rendering\"\n  type: \"feature\"\n  priority: 2\n  effort_estimate: \"2hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL render nodes as SVG groups with labels.\\\",\n      \\\"THE SYSTEM SHALL render connections as Bezier curves.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN a node is dragged\\\", shall: \\\"THE SYSTEM SHALL update its position in state.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF outside canvas bounds\\\", shall_not: \\\"THE SYSTEM SHALL NOT hide the node completely\\\", because: \\\"users need to pan back\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"Graph model exists\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"UI reflects graph state\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"SVG coordinates match state positions\\\",\n      \\\"Consistent scaling\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Write failing tests\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Implement to make tests pass\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219075335-komc7q4d/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-19T13:53:35.856147825Z","created_by":"lewis","updated_at":"2026-02-19T13:53:35.856147825Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3g5","title":"ui: sidebar navigation and fluid animations","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219073540-dgl92iff.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219073540-dgl92iff.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219073540-dgl92iff\"\n  title: \"ui: sidebar navigation and fluid animations\"\n  type: \"feature\"\n  priority: 3\n  effort_estimate: \"2hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL use CSS transitions for smooth task completion and deletion.\\\",\n      \\\"THE SYSTEM SHALL display a project-specific progress indicator.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN a project is selected\\\", shall: \\\"THE SYSTEM SHALL update the task list view with a fade-in effect.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF sidebar is empty\\\", shall_not: \\\"THE SYSTEM SHALL NOT hide project creation controls\\\", because: \\\"users must be able to add the first project\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"Multi-project logic implemented\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"UI correctly reflects the selected project state\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"No state mutation inside render functions\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Write failing tests\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Implement to make tests pass\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219073540-dgl92iff/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":3,"issue_type":"feature","created_at":"2026-02-19T13:35:40.389104246Z","created_by":"lewis","updated_at":"2026-02-19T13:35:40.389104246Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-9lh","title":"core: task model and pure logic","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219070624-e2akt0jt.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219070624-e2akt0jt.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219070624-e2akt0jt\"\n  title: \"core: task model and pure logic\"\n  type: \"feature\"\n  priority: 1\n  effort_estimate: \"1hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL define a Task with ID, content, and completion state.\\\",\n      \\\"THE SYSTEM SHALL ensure Task IDs are unique within a collection.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN a task is toggled\\\", shall: \\\"THE SYSTEM SHALL return a new task state with flipped completion.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF task content is empty\\\", shall_not: \\\"THE SYSTEM SHALL NOT allow task creation\\\", because: \\\"empty tasks clutter the UI\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"None (pure)\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"Returned state is valid Task\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"Task IDs are unique\\\",\n      \\\"Task content is non-empty\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Write unit tests for task transitions\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Implement Task struct and pure functions\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219070624-e2akt0jt/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-19T13:06:24.602332032Z","created_by":"lewis","updated_at":"2026-02-19T13:06:24.602332032Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-jw3","title":"ui: Node configuration sidebar with dynamic expressions","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219080116-uencc6ft.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219080116-uencc6ft.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219080116-uencc6ft\"\n  title: \"ui: Node configuration sidebar with dynamic expressions\"\n  type: \"feature\"\n  priority: 1\n  effort_estimate: \"4hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL show a settings panel when a node is double-clicked.\\\",\n      \\\"THE SYSTEM SHALL support dynamic data mapping using expressions.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN a parameter is changed\\\", shall: \\\"THE SYSTEM SHALL update the node state and trigger a re-validation.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF the expression is invalid\\\", shall_not: \\\"THE SYSTEM SHALL NOT crash the UI\\\", because: \\\"users need to see the error to fix it\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"Node selected\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"Node config matches input schema\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"Panel is always visible on the right\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Write failing tests\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Implement to make tests pass\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219080116-uencc6ft/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-19T14:01:17.087235869Z","created_by":"lewis","updated_at":"2026-02-19T14:01:17.087235869Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-u3a","title":"engine: Step-by-step execution and wire-data inspection","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219080116-sergwlss.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219080116-sergwlss.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219080116-sergwlss\"\n  title: \"engine: Step-by-step execution and wire-data inspection\"\n  type: \"feature\"\n  priority: 2\n  effort_estimate: \"4hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL display the data payload on top of wires after execution.\\\",\n      \\\"THE SYSTEM SHALL support 'Test Step' for individual node isolation.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN a node fails\\\", shall: \\\"THE SYSTEM SHALL highlight the node in red and stop the execution branch.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF a large payload is on a wire\\\", shall_not: \\\"THE SYSTEM SHALL NOT clutter the canvas\\\", because: \\\"it should be collapsible\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"Workflow graph is valid\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"Execution results stored per node\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"Real-time status matches engine state\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Write failing tests\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Implement to make tests pass\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219080116-sergwlss/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-19T14:01:17.177651536Z","created_by":"lewis","updated_at":"2026-02-19T14:01:17.177651536Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-wqb","title":"canvas: Advanced interactions (Pan, Zoom, Minimap, Lasso)","description":"# CUE Validation Schema\n# Validate implementation: cue vet /home/lewis/src/new-app/.beads/schemas/new-app-20260219080116-eoh5kfki.cue implementation.cue\n# Schema location: /home/lewis/src/new-app/.beads/schemas/new-app-20260219080116-eoh5kfki.cue\n\n\n#EnhancedBead: {\n  id: \"new-app-20260219080116-eoh5kfki\"\n  title: \"canvas: Advanced interactions (Pan, Zoom, Minimap, Lasso)\"\n  type: \"feature\"\n  priority: 1\n  effort_estimate: \"4hr\"\n  labels: [\"planner-generated\"]\n\n  clarifications: {\n    clarification_status: \"RESOLVED\"\n  }\n\n  ears_requirements: {\n    ubiquitous: [\n      \\\"THE SYSTEM SHALL support panning the canvas via middle-click or space+drag.\\\",\n      \\\"THE SYSTEM SHALL provide a minimap showing the entire graph overview.\\\"\n    ]\n    event_driven: [\n      {trigger: \\\"WHEN the zoom level changes\\\", shall: \\\"THE SYSTEM SHALL scale the SVG viewport around the mouse cursor.\\\"}\n    ]\n    unwanted: [\n      {condition: \\\"IF nodes are outside the current view\\\", shall_not: \\\"THE SYSTEM SHALL NOT remove them from the DOM\\\", because: \\\"it breaks state and accessibility\\\"}\n    ]\n  }\n\n  contracts: {\n    preconditions: {\n      auth_required: false\n      required_inputs: []\n      system_state: [\n        \\\"Canvas element exists\\\"\n      ]\n    }\n    postconditions: {\n      state_changes: [\n        \\\"Transform matrix is correctly updated\\\"\n      ]\n      return_guarantees: []\n    }\n    invariants: [\n      \\\"Minimum zoom 0.1x, Maximum zoom 5x\\\"\n    ]\n  }\n\n  research_requirements: {\n    files_to_read: [\n      \n    ]\n    research_questions: [\n      {question: \\\"What existing patterns should be followed?\\\", answered: false}\n    ]\n    research_complete_when: [\n      \"All files have been read and patterns documented\"\n    ]\n  }\n\n  inversions: {\n    usability_failures: [\n      {failure: \"User encounters unclear error\", prevention: \"Provide specific error messages\", test_for_it: \"test_error_messages_are_clear\"}\n    ]\n  }\n\n  acceptance_tests: {\n    happy_paths: [\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"},\n      {name: \\\"test_happy_path\\\", given: \\\"Valid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is 0\\\", \\\"Output is correct\\\"], real_input: \\\"command input\\\", expected_output: \\\"expected output\\\"}\n    ]\n    error_paths: [\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"},\n      {name: \\\"test_error_path\\\", given: \\\"Invalid inputs\\\", when: \\\"User executes command\\\", then: [\\\"Exit code is non-zero\\\", \\\"Error message is clear\\\"], real_input: \\\"invalid input\\\", expected_output: null, expected_error: \\\"error message\\\"}\n    ]\n  }\n\n  e2e_tests: {\n    pipeline_test: {\n      name: \"test_full_pipeline\"\n      description: \"End-to-end test of full workflow\"\n      setup: {}\n      execute: {\n        command: \"intent command\"\n      }\n      verify: {\n        exit_code: 0\n      }\n    }\n  }\n\n  verification_checkpoints: {\n    gate_0_research: {\n      name: \"Research Gate\"\n      must_pass_before: \"Writing code\"\n      checks: [\"All research questions answered\"]\n      evidence_required: [\"Research notes documented\"]\n    }\n    gate_1_tests: {\n      name: \"Test Gate\"\n      must_pass_before: \"Implementation\"\n      checks: [\"All tests written and failing\"]\n      evidence_required: [\"Test files exist\"]\n    }\n    gate_2_implementation: {\n      name: \"Implementation Gate\"\n      must_pass_before: \"Completion\"\n      checks: [\"All tests pass\"]\n      evidence_required: [\"CI green\"]\n    }\n    gate_3_integration: {\n      name: \"Integration Gate\"\n      must_pass_before: \"Closing bead\"\n      checks: [\"E2E tests pass\"]\n      evidence_required: [\"Manual verification complete\"]\n    }\n  }\n\n  implementation_tasks: {\n    phase_0_research: {\n      parallelizable: true\n      tasks: [\n        {task: \\\"Read relevant files and understand existing patterns\\\", done_when: \\\"Documented\\\", parallel_group: \\\"research\\\"}\n      ]\n    }\n    phase_1_tests_first: {\n      parallelizable: true\n      gate_required: \"gate_0_research\"\n      tasks: [\n        {task: \\\"Implement Viewport matrix state\\\", done_when: \\\"Test exists and fails\\\", parallel_group: \\\"tests\\\"}\n      ]\n    }\n    phase_2_implementation: {\n      parallelizable: false\n      gate_required: \"gate_1_tests\"\n      tasks: [\n        {task: \\\"Add MouseWheel zoom and Drag pan handlers\\\", done_when: \\\"Tests pass\\\"}\n      ]\n    }\n    phase_4_verification: {\n      parallelizable: true\n      gate_required: \"gate_2_implementation\"\n      tasks: [\n        {task: \"Run moon run :ci\", done_when: \"CI passes\", parallel_group: \"verification\"}\n      ]\n    }\n  }\n\n  failure_modes: {\n    failure_modes: [\n      {symptom: \"Feature does not work\", likely_cause: \"Implementation incomplete\", where_to_look: [{file: \"src/main.rs\", what_to_check: \"Implementation logic\"}], fix_pattern: \"Complete implementation\"}\n    ]\n  }\n\n  anti_hallucination: {\n    read_before_write: [\n      {file: \"src/main.rs\", must_read_first: true, key_sections_to_understand: [\"Main entry point\"]}\n    ]\n    apis_that_exist: []\n    no_placeholder_values: [\"Use real data from codebase\"]\n    git_verification: {\n      before_claiming_done: \"git status && git diff && moon run :test\"\n    }\n  }\n\n  context_survival: {\n    progress_file: {\n      path: \".bead-progress/new-app-20260219080116-eoh5kfki/progress.txt\"\n      format: \"Markdown checklist\"\n    }\n    recovery_instructions: \"Read progress.txt and continue from current task\"\n  }\n\n  completion_checklist: {\n    tests: [\n      \"[ ] All acceptance tests written and passing\",\n      \"[ ] All error path tests written and passing\",\n      \"[ ] E2E pipeline test passing with real data\",\n      \"[ ] No mocks or fake data in any test\"\n    ]\n    code: [\n      \"[ ] Implementation uses Result<T, Error> throughout\",\n      \"[ ] Zero unwrap or expect calls\"\n    ]\n    ci: [\n      \"[ ] moon run :ci passes\"\n    ]\n  }\n\n  context: {\n    related_files: [\n      \n    ]\n    similar_implementations: [\n      \n    ]\n  }\n\n  ai_hints: {\n    do: [\n      \"Use functional patterns: map, and_then, ?\",\n      \"Return Result<T, Error> from all fallible functions\",\n      \"READ files before modifying them\"\n    ]\n    do_not: [\n      \"Do NOT use unwrap or expect\",\n      \"Do NOT use panic!, todo!, or unimplemented!\",\n      \"Do NOT modify clippy configuration\"\n    ]\n    constitution: [\n      \"Zero unwrap law: NEVER use .unwrap or .expect\",\n      \"Test first: Tests MUST exist before implementation\"\n    ]\n  }\n}\n","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-19T14:01:16.998146176Z","created_by":"lewis","updated_at":"2026-02-19T14:01:16.998146176Z","source_repo":".","compaction_level":0,"original_size":0}
